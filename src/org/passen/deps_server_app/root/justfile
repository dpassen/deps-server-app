jarfile := "{{artifact/id}}.jar"

default:
    @just --list

run:
    @clojure -M:main

clean:
    @-rm -rf {{ jarfile }}

lint:
    @clj-kondo --parallel --lint src dev test resources deps.edn tests.edn

build:
    @clojure -M:uberjar --target {{ jarfile }}

repl:
    @clj -M:dev:test

test:
    @clojure -M:test:runner

watch-test:
    @clojure -M:test:watcher

run-jar: build
    @java -cp {{ jarfile }} clojure.main -m {{raw-name/ns}}.app
